# Redis使用清单

## 1. 用户会话管理

### 存储格式

- 键：user:{UUID}
- 值：JSON格式的用户信息，将密码置null

### 用途

在用户登录时创建会话，并将会话信息存储在Redis中，以提高访问速度并减轻数据库负担。

处理请求时用请求携带的cookie，通过redis获取用户id

## 2. 采购清单
### 存储格式
- 类型: Set
- 键: user:{used_id}:todo
- 值: 配料名, {ingredient_name}
- 过期时间: 12h

### 用途
为当前用户添加采购的配料，默认12小时后过期

## 3.缓存配料
### 存储格式
- 类型: Hash
- 键: ingredientCache
- 对象: 
    - 键: {ingredient_name}
    - 值: {ingredient_id}
  
### 用途
配料是唯一的，添加缓存可以减少创建菜品时和数据库交互的次数，提高性能。

## 4.烹饪次数
### 存储格式
- 类型: ZSet
- 键: uid:{user_id}
- 对象:
  - 键: {dish_id}
  - 值: 烹饪次数
  
### 用途
减少对数据库的访问，提供排行榜功能

## 5.排行榜信息
### 存储格式
- 类型: String
- 键: dish:id:{dishId}
- 值: {dishName}

### 用途
由于对烹饪次数的存储是菜品的id, 在排行榜中，需要提供菜品名。
在第一次加载排行榜的菜品时，加入redis缓存，下次再进入有排行榜页面的时候就从缓存取，减少对数据库的访问，提高效率。
